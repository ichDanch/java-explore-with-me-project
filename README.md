# java-explore-with-me

Pull request link: https://github.com/ichDanch/java-explore-with-me-project/pull/1  

##### Запуск проекта (нужен установленный Docker):
 - открыть проект в IntelliJ Idea
 - в терминале выполнить команды: *mvn clean package* и *docker-compose up*
 
##### Краткое описание проекта:

Проект позволяет создавать какое-нибудь событие, делиться им, набирать компанию для участия в нем, искать тематические подборки событий,
общаться зарегистрированным пользователям в комментариях под событиями.

##### Проект состоит из двух сервисов:  
 - **main-service** - это основной сервис, который содержит необходимую логику для работы продукта.
 - **stat-service** - это сервис статистики, который хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

##### API основного сервиса разделено на три части:  
 - публичная, доступна без регистрации любому пользователю сети.  
 - закрытая, доступна только авторизованным пользователям.  
 - административная, для администраторов сервиса.

##### Спецификация API
- спецификация основного сервиса:  [ewm-main-service-spec.json](https://raw.githubusercontent.com/yandex-praktikum/java-explore-with-me/main/ewm-main-service-spec.json)
- спецификация сервиса статистики: [ewm-stats-service-spec.json](https://raw.githubusercontent.com/yandex-praktikum/java-explore-with-me/main/ewm-stats-service-spec.json)  
Для работы со спецификациями понадобится редактор [Swagger](https://editor-next.swagger.io/). Чтобы просмотреть спецификацию в редакторе, необходимо выполнить ряд шагов:
      - Скопировать ссылку на файл спецификации
      - Открыть онлайн-версию редактора Swagger. На верхней панели выбрать меню File, затем пункт Import URL
      - Вставить скопированную ссылку в текстовое поле появившегося диалогового окна и нажать OK


##### Жизненный цикл события состоит из нескольких этапов:
- создание
- ожидание публикации (статус ожидания публикации событие переходит сразу после создания)
- публикация (в это состояние событие переводит администратор)
- отмена публикации (в это состояние событие переходит в двух случаях:
  первый — если администратор решил, что его нельзя публиковать,
  второй — когда инициатор события решил отменить его на этапе ожидания публикации)

Второй сервис, статистики, собирает информацию.
Во-первых, о количестве обращений пользователей к спискам событий и, во-вторых, о количестве запросов к подробной информации о событии.


#### Добавлена фича - комментарии событий:
- Комментировать можно только опубликованные события. До и после начала события. 
- Редактировать комментарий может только создатель комментария. 

##### API:
- создать комментарий */users/{userId}/events/{eventId}/comment*  
- редактировать комментарий */users/{userId}/events/{eventId}/comment/{commentId}*  
- удалить комментарий */users/{userId}/events/{eventId}/comment/{commentId}*  
