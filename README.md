# java-explore-with-me

Pull request link: https://github.com/ichDanch/java-explore-with-me-project/pull/1  

##### Комманды для запуска проекта в докере:
 - *mvn clean package*  
 - *docker-compose up*  
 Первым запускается stat-db на порту 5432, затем stat-service на порту 9090, затем main-db на порту 5432 и потом main-service на порту 8080. База данных используется PostgreSQL.


##### Краткое описание проекта:

Проект позволяет создавать какое-нибудь событие, делиться им, набирать компанию для участия в нем, искать тематические подборки событий,
общаться зарегистрированным пользователям в комментариях под событиями.

##### Проект состоит из двух сервисов:  
 - **main-service** - это основной сервис, который содержит необходимую логику для работы продукта.
 - **stat-service** - это сервис статистики, который хранит количество просмотров и позволяет делать различные выборки для анализа работы приложения.

##### API основного сервиса разделено на три части:  
 - публичная, доступна без регистрации любому пользователю сети.  
 - закрытая, доступна только авторизованным пользователям.  
 - административная, для администраторов сервиса.

##### Жизненный цикл события состоит из нескольких этапов:
- создание
- ожидание публикации (статус ожидания публикации событие переходит сразу после создания)
- публикация (в это состояние событие переводит администратор)
- отмена публикации (в это состояние событие переходит в двух случаях:
  первый — если администратор решил, что его нельзя публиковать,
  второй — когда инициатор события решил отменить его на этапе ожидания публикации)

Второй сервис, статистики, собирает информацию.
Во-первых, о количестве обращений пользователей к спискам событий и, во-вторых, о количестве запросов к подробной информации о событии.


##### Добавлена фича - комментарии событий:
- Комментировать можно только опубликованные события. До и после начала события. 
- Редактировать комментарий может только создатель комментария. 

##### API:
- создать комментарий */users/{userId}/events/{eventId}/comment*  
- редактировать комментарий */users/{userId}/events/{eventId}/comment/{commentId}*  
- удалить комментарий */users/{userId}/events/{eventId}/comment/{commentId}*  
